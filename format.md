# Формат

## Введение

Удалённый метод вызывается отправлением запроса на удалённый сервер посредством HTTP или TCP/IP-сокета (начиная с версии 2.0).
При использовании HTTP заголовок `Content-Type` определяется как `application/json`.

Атрибуты запроса:

* `jsonrpc` - версия протокола RPC
* `method` — строка с именем вызываемого метода.
* `params` — массив данных, которые должны быть переданы методу, как параметры.
* `id` — значение любого типа, которое используется для установки соответствия между запросом и ответом.

Атрибуты ответа:

* `jsonrpc` - версия протокола RPC
* `result` — данные, которые вернул метод. Если произошла ошибка во время выполнения метода, это свойство должно быть установлено в `null`.
* `error` — код ошибки, если произошла ошибка во время выполнения метода, иначе `null`.
* `id` — то же значение, что и в запросе, к которому относится данный ответ.

## Одиночный зарос

Пример запроса:

```json
{"jsonrpc": "2.0", "method": "echo", "params": ["Hello JSON-RPC"], "id":1}
```

Пример ответа:

```json
{"jsonrpc": "2.0", "result": "Hello JSON-RPC", "error": null, "id":1}
```
## Batch-запрос

Пример запроса:

```json
[
  {"jsonrpc": "2.0", "method": "server.shutdown", "params": {"server":"42"}, "id": 1},
  {"jsonrpc": "2.0", "method": "server.remove", "params": {"server":"24"}, "id": 2}
]
```

Пример ответа:

```json
[
  {"jsonrpc": "2.0", "result": {"status": "down"}, "id":1}
  {"jsonrpc": "2.0", "error": {"code": 1234, "message": "Server not found"}, "id": 2}
]
```
## Нотификация

Нотификация — запрос без поля «id», который не требуют ответа от сервера.

Пример запроса:

```json
{"jsonrpc": "2.0", "method": "post.updated", "params": {"id": "142"}}
```
